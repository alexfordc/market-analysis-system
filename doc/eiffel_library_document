                Eiffel Component Library - Design Document


The Eiffel Component Library consists of a set of classes that provide
abstractions that can be used in many different kinds of applications.
Although the classes in this library originated as part of the Market
Analysis Library (MAL), when it became evident that they provided
abstractions usable outside of the financial domain, I moved them into
a separate library.  Because the classes in this library are new, they
have not yet proved their usefulness in applications outside of MAL.
(One exception to this is that I use the data scanning component
in another application I am working on, a family tree application.)
Thus the library is expected to grow and evolve as more applications
are written that use it.

CLUSTER architectural

The classes in this cluster provide architectural abstractions typically
used in design pattern implementations.  COMMAND is the basic abstraction
for the command pattern and NUMERIC_COMMAND is a command that produces
a numeric (REAL) value as a result of its execution.  RESULT_COMMAND is a
generic class that produces a result of the type of the generic parameter.

FACTORY provides the principal abstraction for the abstract factory
pattern.  It consists of an execute procedure and a feature, product,
that is produced as a result of calling execute.  This class will be
used by implementing descendants that define the execute procedure to
instantiate and initialize an object of the appropriate class.

CLUSTER commands

commands currently contains one subcluster, operators, whose classes are
descendants of RESULT_COMMAND.  Important abstractions in this cluster
are BINARY_OPERATOR and UNARY operator.

CLUSTER data_scanning

This cluster currently contains two classes that provide basic data
scanning functionality, DATA_SCANNER and VALUE_SETTER.  DATA_SCANNER
inherits from FACTORY and provides a basic algorithm for scanning an input
file whose data is structured into records and fields.  It uses a set of
VALUE_SETTER instances to read the current field of the current record
and set the appropriate field of the tuple passed to its set routine.
VALUE_SETTER is deferred and is used by providing a class that inherits
from it and defines the do_set and read_value routines to read from the
input file and set a field in the tuple according to the specifications
of the particular application for which the class is designed.

CLUSTER event_library (events)

The classes in this cluster constitute a framework for the generation
and dispatch of events.  In the context of this framework, an event
is an occurrence in the system that requires a response of some kind.
Essentially, events are generated by an EVENT_GENERATOR and then the
generated events are dispatched appropriately by an EVENT_DISPATCHER.
An EVENT_COORDINATOR manages the generation and dispatching of events,
acting as a client of the EVENT_GENERATOR and EVENT_DISPATCHER.
EVENT_GENERATOR is a deferred class that inherits from FACTORY,
allowing users of the framework to define appropriate behavior for event
generation by defining a class that inherits from EVENT_GENERATOR and
implementing the execute feature.  EVENT_DISPATCHER dispatches a queue
of EVENTs (set with feature set_event_queue) to a set of registrants,
which are added by calling the register feature.  The deferred class
EVENT_REGISTRANT provides the registrant abstraction, which is used by
the EVENT_DISPATCHER by calling its notify feature.  Descendants will
define notify to take the appropriate action for its EVENT argument.
EVENT_COORDINATOR is a deferred class whose execute feature is a template
method that calls a hook method to generate the events into a queue (to be
implemented by descendants) and then passes the queue of generated events
to an EVENT_DISPATCHER and asks the dispatcher to execute (dispatch)
the events in its queue.

Class EVENT is a deferred class that provides the basic abstraction for
events.  TYPED_EVENT is an EVENT that has an EVENT_TYPE, allowing events
to be classified and identified by type.

CLUSTER support

This cluster is for classes that provide general utility functions.


Copyright 1998 - 1999 Jim Cochrane and others, see file "forum.txt"
