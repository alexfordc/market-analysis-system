INSTALLING THE MARKET ANALYSIS SERVER AND CLIENT

Currently, the Market Analysis Server (MAS) runs on Linux/Intel and Windows
platforms.  This version of the Linux release requires the new glibc
libraries.  I recommend at least a pentium machine to run the server, since
the intensive math processing it does may make it sluggish on older hardware.


INSTALLATION ON LINUX SYSTEMS

To install the server executables and the client (Java) class files on
a Linux system, run the install script from this directory:

./install

The script will ask you to enter the path of the directory in which to
place the executable files.  You can either accept the default choice
by hitting <Enter>, or you can enter an absolute path of an appropriate
directory.  Next it will ask you to enter the path of the directory in
which to place the library files (including the Java class files for the
MAS GUI).  Again, you can either accept the default choice by hitting
<Enter>, or you can enter an absolute path of an appropriate directory.

The script will also check if the dynamic libraries it needs can be
found.  Any library it reports as not being found you will need to
obtain and install.  MAS depends on an ODBC library, libodbc.so.1, that
is not part of the standard Linux distribution.  If this library is
reported missing, I have included a copy in the MAS distribution, which
you will find in the lib directory you chose for MAS's library files.
If this library does not work for you, for some reason, you may be able
to find one that does work on your system at:
  http://rpmfind.net/linux/rpm2html/search.php?query=libodbc.so.1
(This site was alive and valid as of Jan. 18, 2001.)

Note that if you have an older version of MAS installed in the same
location you choose to install the new version, the old MAS files will
be replaced by the new ones.

If it is not already, you will need to make sure that the bin directory
you installed to is included in your path.


INSTALLATION ON WINDOWS SYSTEMS

Note: The string X.X, used below, stands for the version number of the
release of MAS you are installing.  For example, if the version number
is 1.5, you should replace mas_vX.X, below, with mas_v1.5.

Unfortunately, the Windows executable in this release is not fully
functional.  See the file README_WINDOWS.txt for details.

Choose a directory to put the MAS files in and extract the
mas_windowsX.X.tar.gz file or the mas_windowsX.X.zip into this directory.
After extraction, you will find a subdirectory, mas_vX.X, within which the
MAS files reside.

Add the bin directory under mas_vX.X to your path.  For example, if you
installed mas under c:\"Program Files", you could add the following line to
your autoexec.bat file:

PATH=%PATH%;c:\"Program Files"\mas_vX.X\bin

There are three scripts in mas_vX.X\bin you can use to run mas with a
hard-coded port number: runmas.bat, runmasgui.bat, and runmacl.bat.
(runmas.bat starts the server; runmasgui.bat connects a GUI client to that
server, and runmacl.bat starts the command-line client.)  You will need to
set the MAS_DIRECTORY environment variable for these scripts to work
successfully.  Set this variable to the path of the mas_vX.X\lib directory.

For example, if mas_vX.X is under c:\"Program Files", add the following line
to your autoexec.bat file:

set MAS_DIRECTORY=c:\"Program Files"\mas_vX.X\lib

After ensuring that these settings are in your current environment (for
example, by rebooting Windows), you should be able to start the server by
running the runmas.bat script and then start the GUI by running the
runmasgui.bat script.

[To terminate the server, start runmacl.bat and type <Control>E; then hit
enter.]

On Windows, the option is available to use a database management system
with an ODBC interface to hold market data instead of MAS's default
convention of reading the data from files.  This facility was added by
Eirik Mangseth, who is currently using it successfully.  (I have not used
it myself, so I will not be able to help you with questions about how to
configure it.)  Eirik has provided a short document, mas_odbc_usage.txt in
the doc directory, with instructions on how to configure MAS to work with
ODBC.


GENERAL INSTALLATION INSTRUCTIONS

After installation, you should read the file doc/environment for
instructions on setting environment variables needed by the server.

Also, you will need to create a file with stock split information, which
the server will read to adjust its stock data for splits.  (The server
can run without this file, but any data for a stock that has split,
if the split has not been adjusted for in the data file itself, will not
be adjusted for the split by the server and thus incorrect values will
be used when the data for that stock is processed.)  The format of the
stock split file is simple:

date<tab>symbol<tab>value

where date is the date of the split in the format yyyymmdd, <tab> stands
for a tab character, symbol is the symbol for the stock, and value is the
split value.  (For example, for a 2-for-1 split, value will be 2.)

An example of a line in the stock split file that follows this format is:

19980408	F	1.5

The current distribution of MAS includes a file (lib/stock_splits) with
some sample stock split data in the required format.

To test that the installation succeeded, you can run mas on the example data
files in lib/data.  (See the file doc/masystem_introduction for instructions
on how to start mas.)


USING MAS WITH A DATABASE MANAGEMENT SYSTEM ON LINUX

If you have a DBMS with ODBC support, you may be able to store your data in
a database and have MAS obtain its market data from there instead of from
files.  I have MAS set up on my system to talk to a Postgres database using
unixODBC, a package for Linux and UNIX systems.  unixODBC is available at
http://www.unixodbc.org/.

To configure MAS to connect to a database, you will first need to
create a database and the necessary tables to store market data.
(I have included some scripts I use to create tables in the scripts
package (in the src/scripts/database/postgres directory), which you
can use for suggestions as to needed table structures, if you wish.)
And you will need to make sure that your ODBC libraries and drivers are
installed and a data source name configured for the MAS database.

Once the database is created and ODBC configured properly, you will need
to create a database configuration file for MAS.  The default name for
this file is mas_dbrc.  This file will need to reside in the directory
specified by the MAS_DIRECTORY environment variable.

The mas_dbrc file contains settings that tell MAS how to query for the
data it needs.  For example, it tells MAS the name of the table in
which daily stock data is stored.

I have included the mas_dbrc file I use on my system in the MAS package.
You will find it in the lib/database directory.  The file is commented and,
hopefully, you will be able to figure out from the settings and
comments in the file how to set it up for your particular system
configuration.

Once you have everything set up properly, you can start MAS and use the -p
option to tell it to use the database for its data.
